# Приложение для тестирования СКС с помощью Fluke

## Краткое описание

Приложение предназначено для упрощения процесса заказа услуг по тестированию структурированных кабельных систем (СКС) с использованием приборов Fluke. Клиенты могут легко оформить заказ через удобный интерфейс с нашими логотипами, просмотреть историю заказов в личном кабинете, а компания получает взаимоlействие с клиентами + история заказов.

## Целевая аудитория

- **Компании и организации**, нуждающиеся в профессиональном тестировании СКС.
- **Технические специалисты** и **инженеры**, ответственные за поддержку и проверку сетевой инфраструктуры.
- **Строительные фирмы**, которым необходимо тестирование СКС на объектах.

### Портреты клиентов

- **Александр** — IT-директор крупной корпорации, ищет надежных подрядчиков для регулярного тестирования сетевой инфраструктуры.
- **Мария** — главный инженер в строительной компании, нуждается в проверке СКС перед сдачей объекта заказчику.
- **Иван** — владелец малого бизнеса, хочет убедиться в качестве своей сетевой системы после недавнего ремонта.

## Описание MVP

**Минимально жизнеспособный продукт (MVP)** включает следующие функции:

- **Главный экран** с логотипом компании и кнопкой "Сделать заказ".
- **Регистрация/Авторизация** с использованием телефона, имени и названия организации.
- **Личный кабинет пользователя** с данными по клиенту.
- **Форма заказа** с возможностью выбрать необходимые услуги и указать дополнительную информацию.
- **История заказов** для администратора и клиента.
- **Чат с администратором** для администратора и клиента.

### Эскиз фронтенд-представления мобильного приложения

1. **Главный экран**:

    - Логотип компании в верхней части страницы.
    - Кнопка "Сделать заказ" в центре.
    - Ссылка на "Личный кабинет" или "Войти/Зарегистрироваться" в правом верхнем углу.

2. **Страница регистрации/авторизации**:

    - Поля для ввода телефона, имени и названия организации.
    - Кнопка "Зарегистрироваться" или "Войти".

3. **Личный кабинет пользователя**:

    - Профиль пользователя.
    - Возможность изменить контактную информацию.

4. **Форма создания заказа**:

    - Поля для выбора услуг (тестирование СКС, монтаж и т.д.).
    - Поле для указания адреса и желаемой даты выполнения работ.
    - Поле для дополнительных комментариев.

5. **Подтверждение заказа**:

    - Сообщение об успешном создании заказа.
    - Информация о том, что компания свяжется с клиентом в ближайшее время.

6. **Экран истории заказов**:

    - История заказов с различными статусами и полной информации о заказе.
   
7. **Экран чата с администратором**:

    - Экран, где можно отправить сообщение и вести переписку с администратором.

### Эскиз фронтенд-представления админ-панели

1. **Страница авторизации**:

    - Поля для ввода email и пароля.
    - Кнопка "Войти".

2. **Страница со списком клиентов**:

    - Таблица с информацией по клиентам с фильтрацией и пагинацией.
    - Возможность удалять клиента и редактировать информацию по нему.

3. **Экран истории заказов**:

    - Таблица с информацией по заказам с фильтрацией и пагинацией.
    - Возможность просмотреть заказ подробно и изменить его статус.

4. **Экран чата с администратором**:

    - Экран, где можно вести переписку с клиентом.


## Описание сущностей приложения

### Пользователь (User)

- **id**: Уникальный идентификатор пользователя.
- **email**: Адрес электронной почты.
- **password**: Пароль для входа в систему.
- **name**: Имя пользователя.
- **fio**: Полное имя (ФИО).
- **phone**: Номер телефона.
- **role**: Роль пользователя (USER или ADMIN).
- **isEmailConfirmed**: Статус подтверждения электронной почты.
- **confirmationCode**: Код подтверждения электронной почты.
- **createdAt**: Дата и время регистрации.
- **orders**: Список заказов пользователя.
- **chatsUser**: Чаты пользователя с администраторами.
- **passwordResetCode**: Код для сброса пароля.
- **passwordResetExpires**: Время истечения кода сброса пароля.

### Заказ (Order)

- **id**: Уникальный идентификатор заказа.
- **userId**: Идентификатор пользователя, создавшего заказ.
- **address**: Адрес выполнения работ.
- **desiredDate**: Желаемая дата выполнения заказа.
- **status**: Статус заказа (PENDING, IN_PROGRESS, COMPLETED, CANCELLED).
- **createdAt**: Дата и время создания заказа.
- **updatedAt**: Дата и время последнего обновления заказа.
- **phoneNumber**: Контактный номер телефона.
- **fullName**: Полное имя контактного лица.
- **email**: Контактный email.
- **comments**: Дополнительные комментарии к заказу.
- **isShowedAdmin**: Статус просмотра заказа администратором.
- **services**: Детали услуг, включенных в заказ.

### Услуги заказа (OrderServices)

- **id**: Уникальный идентификатор услуг заказа.
- **orderId**: Идентификатор связанного заказа.
- **scsInstallation**: Информация об установке СКС.
- **scsInstallationCategory**: Категория установки СКС.
- **scsTesting**: Информация о тестировании СКС.
- **scsTestingCategory**: Категория тестирования СКС.

- **fiberOpticSplicing**: Количество сварок оптоволокна.
- **fiberOpticSplicingFiberType**: Тип оптоволоконного кабеля для сварки.
- **fiberOpticSplicingConnectorType**: Тип коннекторов для сварки оптоволокна.

- **fiberOpticOTDR**: Количество измерений оптоволокна рефлектометром.
- **fiberOpticOTDRFiberType**: Тип оптоволоконного кабеля для измерения.
- **fiberOpticOTDRConnectorType**: Тип коннекторов для измерения оптоволокна.

- **cctvInstallation**: Установка систем видеонаблюдения.
- **electricalInstallation**: Электротехнические работы.
- **electricalLaboratory**: Проведение электротехнических лабораторных испытаний.
- **accessControlInstallation**: Установка систем контроля доступа.
- **wifiInstallation**: Установка Wi-Fi сетей.

### Чат (Chat) и Сообщения (Message)

- **Chat**:

    - **id**: Уникальный идентификатор чата.
    - **userId**: Идентификатор пользователя.
    - **adminId**: Идентификатор администратора.
    - **lastMessageId**: Идентификатор последнего сообщения.
    - **unreadCountUser**: Количество непрочитанных сообщений у пользователя.
    - **unreadCountAdmin**: Количество непрочитанных сообщений у администратора.
    - **createdAt**: Дата и время создания чата.
    - **updatedAt**: Дата и время последнего обновления чата.

- **Message**:

    - **id**: Уникальный идентификатор сообщения.
    - **chatId**: Идентификатор связанного чата.
    - **senderId**: Идентификатор отправителя.
    - **receiverId**: Идентификатор получателя.
    - **content**: Содержание сообщения.
    - **createdAt**: Дата и время отправки сообщения.
    - **read**: Статус прочтения сообщения.

## Архитектурное видение приложения

Приложение основано на клиент-серверной архитектуре с использованием современных веб-технологий.

### Компоненты системы

1. **Клиентская часть (Frontend)**:

    - Использует HTML, CSS и JavaScript (возможно использование фреймворков React, Angular или Vue.js).
    - Обеспечивает отображение пользовательского интерфейса и взаимодействие с сервером через API.

2. **Серверная часть (Backend)**:

    - Использует Kotlin с фреймворком Ktor для обработки запросов.
    - Взаимодействует с базой данных через Exposed.
    - Реализует бизнес-логику приложения и обеспечивает безопасность данных.

3. **База данных**:

    - PostgreSQL для хранения данных пользователей, заказов, сообщений и т.д.
    - Exposed обеспечивает удобное взаимодействие между сервером и базой данных.

### Схема взаимодействия компонентов

1. **Пользователь** взаимодействует с **клиентским приложением**, заполняя формы регистрации, авторизации и создания заказа.

2. **Клиентское приложение** отправляет запросы к **серверу** через RESTful API для обработки данных.

3. **Сервер** выполняет следующие функции:

    - Обрабатывает входящие запросы от клиента.
    - Взаимодействует с **базой данных** для сохранения и извлечения информации.

4. **Администратор** получает уведомления и может просматривать заказы через собственный интерфейс, взаимодействуя с сервером аналогично пользователю.

### Aрхитектурной схема в draw.io

Находится в файле maket.drawio в корне проекта.